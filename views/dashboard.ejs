<!DOCTYPE html>
<html lang="en">
<head>
	
	<title>Dashboard</title>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link id="theme-style" rel="stylesheet" href="/css/dashboard.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js">

</head>

<body class="app">
	<section class="fixed-top">
		<%- include('navbar.ejs') %>
	</section>
	<div class="app-wrapper">

		<div class="app-content pt-3 p-md-3 p-lg-4">

			<div class="container-xl">

				<div class="app-card alert alert-dismissible shadow-sm mb-4 border-left-decoration" role="alert">
					<div class="inner">
						<div class="app-card-body p-3 p-lg-4">
							<h3 class="mb-3">Welcome to Admin Dashboard</h3>
							<div class="row gx-5 gy-3">
								<div class="col-12 col-lg-9">

									<div>Conduct Remote Online Examinations.
									</div>
								</div>

							</div>
							<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
						</div>

					</div>
				</div>

				<div class="row g-4 mb-4">
					<div class="col-6 col-lg-3">
						<div class="app-card app-card-stat h-100 d-flex">
							<div class="card-highlight-blue">

							</div>
							<div class="app-card-body p-3 p-lg-4">
								<h4 class="stats-type mb-1">Total Students</h4>
								<div class="stats-figure">
									<%= data[3] %>
								</div>

							</div>
							<a class="app-card-link-mask" href="#"></a>
						</div>
					</div>

					<div class="col-6 col-lg-3">
						<div class="app-card app-card-stat h-100 d-flex">
							<div class="card-highlight-grren">

							</div>
							<div class="app-card-body p-3 p-lg-4">
								<h4 class="stats-type mb-1">Total Category</h4>
								<div class="stats-figure">
									<%=data[0]%>
								</div>

							</div>
							<a class="app-card-link-mask" href="#"></a>
						</div>
					</div>
					<div class="col-6 col-lg-3">
						<div class="app-card app-card-stat  h-100 d-flex">
							<div class="card-highlight-yellow">

							</div>
							<div class="app-card-body p-3 p-lg-4">
								<h4 class="stats-type mb-1">Total Exam</h4>
								<div class="stats-figure">
									<%=data[1]%>
								</div>

							</div>

							<a class="app-card-link-mask" href="#"></a>
						</div>
					</div>
					<div class="col-6 col-lg-3">
						<div class="app-card app-card-stat  h-100 d-flex">
							<div class="card-highlight-sky">

							</div>
							<div class="app-card-body p-3 p-lg-4">
								<h4 class="stats-type mb-1">Total Questions</h4>
								<div class="stats-figure">
									<%=data[2]%>
								</div>

							</div>
							<a class="app-card-link-mask" href="#"></a>
						</div>
					</div>

					<div class="row g-4 mb-4">
						<div class="col-12 col-lg-6">
							<div class="app-card app-card-progress-list h-100 shadow-sm">
								<div class="app-card-header p-3">
									<div class="row justify-content-between align-items-center">
										<div class="col-auto">
											<h4 class="app-card-title">Category Questions</h4>
										</div>
										<div class="col-auto d-flex justify-content-between align-items-center">
											<div class="card-header-action">
												<a href="/category/showCategory">View More</a>
											</div>
											<div class="card-header-chart mx-3" onclick="displayChart()" id="chart-toggle-btn">
												<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bar-chart-fill" viewBox="0 0 16 16">
													<path d="M1 11a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1v-3zm5-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7zm5-5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V2z"/>
												  </svg>
											</div>
										</div>
										
									</div>
								</div>
								<div class="app-card-body" id="category-info">


									<% for(let i=0;i<data[4].length;i++){%>

										<% if( i> 4){ %>
											<%break;%>
												<%}%>

													<div class="item p-3">
														<div class="row align-items-center">

															<div class="col">
																<div class="title mb-1 ">
																	<%= data[4][i].category_name.toString().toUpperCase()
																		%>
																</div>
																<div class="progress">
																	<div class="progress-bar bg-success"
																		role="progressbar"
																		style="<%=questionsRatio[i]%>"
																		aria-valuenow="25" aria-valuemin="0"
																		aria-valuemax="100"></div>
																</div>
															</div>

														</div>

													</div>
													<%}%>
								</div>
							</div>
						</div>

						<div class="col-12 col-lg-6">
							<div class="app-card app-card-stats-table h-100 shadow-sm">
								<div class="app-card-header p-3">
									<div class="row justify-content-between align-items-center">
										<div class="col-auto">
											<h4 class="app-card-title">Student Report</h4>
										</div>
										<div class="col-auto">
											<div class="card-header-action">
												<a href="/dashboard/exams">View report</a>
											</div>
										</div>
									</div>
								</div>
								<div class="app-card-body p-3 p-lg-4">
									<div class="table-responsive">
										<table class="table table-borderless mb-0">
											<thead>
												<tr>
													<th class="meta">Student Name</th>
													<th class="meta stat-cell">Marks</th>
													<th class="meta stat-cell">Attempts</th>
												</tr>
											</thead>
											</thead>
											<tbody>

												<% for(let i=0;i<exam_attempt.length;i++) {%>

													<% if( i> 4){ %>
														<%break;%>
															<%}%>


																<tr>


																	<td>
																		<%=student_name[i].fname %>
																	</td>
																	<td class="stat-cell">
																		<%=exam_attempt[i].exam_result%>
																	</td>
																	<td class="stat-cell">
																		<%=exam_attempt[i].exam_attempt%>
																	</td>
																</tr>

																<%}%>


											</tbody>
										</table>
									</div>
								</div>
							</div>
						</div>
					</div>




				</div>

			</div>
		</div>

		<div class="container-fluid">

			<section>
				<footer class="text-center text-white" style="background-color: #0a4275;">

					<div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">
						Â© 2023 Copyright: esparkbiz
					</div>
				</footer>
			</section>

		</div>

	</div>

</body>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
	crossorigin="anonymous"></script>
	<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script src="/js/dashboard.js"></script>

</html>